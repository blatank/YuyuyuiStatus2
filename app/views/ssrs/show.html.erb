<% title = "#{@ssr.name} #{@ssr.hero.name}のステータス" %>
<% provide(:title, title) %>

<div id="ssr-show">
  <h1><%= title %></h1>
  
  <div class="ssr-detail">
    <div class="ssr-image">
      <% if @ssr.image_url && @ssr.image_url.length > 0 %>
        <%= image_tag(@ssr.image_url, alt: "#{@ssr.name}-#{@ssr.hero.name}") %>
      <% else %>
       <h2 class="ssr-no-image">No Image</h2>
      <% end %>
    </div>
    
    <div class="ssr-status">
      <table class="table">
        <tr>
          <td>勇者名</td><td><%= link_to @ssr.hero.name, hero_path(@ssr.hero) %></td>
        </tr>
        <tr>
          <td>レア</td><td><%= @ssr.rare %></td>
        </tr>
        <tr>
          <td>属性</td><td><%= link_to @ssr.color.mean, color_path(@ssr.color) %></td>
        </tr>
        <tr>
          <td>タイプ</td><td><%= link_to @ssr.hero.hero_type.name, hero_type_path(@ssr.hero.hero_type) %></td>
        </tr>
        <tr>
          <td>HP</td><td><%= @ssr.hp %></td>
        </tr>
        <tr>
          <td>ATK</td><td><%= @ssr.atk %></td>
        </tr>
        <tr>
          <td>踏ん張り</td><td><%= Ssr.status_str(@ssr.stamina) %></td>
        </tr>
        <tr>
          <td>速度</td><td><%= Ssr.status_str(@ssr.speed) %></td>
        </tr>
        <tr>
          <td>CRT</td><td><%= Ssr.status_str(@ssr.crt) %></td>
        </tr>
        <tr>
          <td>コスト</td><td><%= @ssr.cost %></td>
        </tr>
        <tr>
          <td>SP</td><td><%= @ssr.sp %></td>
        </tr>
        <tr>
          <td>必殺技倍率</td><td><%= "%.15g"%(@ssr.sp_ratio / 10.0) %></td>
        </tr>
        <tr>
          <td>必殺技ATK</td><td><%= "%.15g"%(@ssr.sp_atk / 10.0) %></td>
        </tr>
      </table>
    </div>
  </div>
  
  <% if logged_in? %>
    <div class="ssr-edit-btn">
      <%= link_to "編集する", edit_ssr_path(@ssr), class: "btn btn-lg btn-primary" %><br/>
      <%= link_to "削除する", @ssr, method: :delete, class: "btn btn-secondary mt-4", data: { confirm: "このSSRを本当に削除しますか？" }  %>
    </div>
  <% end %>
</div>

